// Scroll-Reveal Animations
const revealObserver = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
        if (entry.isIntersecting) {
            entry.target.classList.add("visible");
        }
    });
}, { threshold: 0.2 });

document.querySelectorAll("section").forEach(sec => {
    revealObserver.observe(sec);
});
// Stats Counter Trigger on Scroll
const statsObserverCommit5 = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
        if (entry.isIntersecting && !entry.target.classList.contains("counted")) {

            entry.target.classList.add("counted");

            entry.target.querySelectorAll(".stat-number").forEach(num => {
                const value = parseInt(num.textContent.replace(/,/g, ""));
                animateCounter(num, 0, value, 1500);
                num.classList.add("animate");
            });
        }
    });
}, { threshold: 0.5 });

const statsSec = document.querySelector(".stats");
if (statsSec) statsObserverCommit5.observe(statsSec);
// Globe Hover Acceleration
const globe = document.getElementById("spinningGlobe");

if (globe) {
    globe.addEventListener("mouseenter", () => {
        globe.style.animationDuration = "8s";
    });

    globe.addEventListener("mouseleave", () => {
        globe.style.animationDuration = "20s";
    });
}
// Sticky Navbar Animation
window.addEventListener("scroll", () => {
    const header = document.querySelector("header");
    if (window.scrollY > 50) header.classList.add("scrolled");
    else header.classList.remove("scrolled");
});
// Parallax Text + Image
window.addEventListener("scroll", () => {
    const offset = window.pageYOffset;

    const heroText = document.querySelector(".hero-text");
    const heroImg = document.querySelector(".hero-image");

    if (offset < window.innerHeight) {
        if (heroText) heroText.style.transform = `translateY(${offset * 0.3}px)`;
        if (heroImg) heroImg.style.transform = `translateY(${offset * 0.15}px)`;
    }
});
